# Прецедент: Запрос баланса

- Акторы: Клиент (primary), Банковская система (supporting)
- Заинтересованные стороны: Клиент, Банк

## Предусловия

- Карта вставлена и распознана устройством чтения карт
- Клиент успешно прошёл аутентификацию по PIN (или допускается попытка аутентификации в рамках лимита)
- Соединение с банковской системой доступно

## Основной поток

1. Система отображает главное меню.
2. Клиент выбирает пункт «Проверить баланс».
3. Система запрашивает у банковской системы текущий доступный баланс по счёту клиента.
4. Банковская система возвращает баланс.
5. Система отображает баланс клиенту.
6. По запросу клиента система печатает чек с информацией о текущем балансе.
7. Клиент возвращается в главное меню или завершает работу.

## Альтернативные потоки/Исключения

- A1: Сессия истекла по таймауту
  - 1a. Если клиент не выполняет действий в течение 60 секунд, система завершает сессию и возвращает карту.
- A2: Ошибка связи с банковской системой
  - 3a. Система сообщает об ошибке связи и предлагает повторить позднее, затем возвращает в меню.
- A3: Неуспешная аутентификация
  - 0a. При превышении лимита попыток ввода PIN (3) карта блокируется/изымается, сессия завершается.

## Постусловия

- Карта возвращена клиенту при завершении сессии.
- Системный журнал содержит запись о запросе баланса (успешном или неуспешном).
